{"version":3,"sources":["js/gallery-items.js","js/script.js","js/onOpenModal.js","js/onModalGallery.js","js/onCloseModal.js","index.js"],"names":["preview","original","description","galleryRef","document","querySelector","lightboxRef","lightboxOverlay","lightboxImageRef","lightBoxCloseBtn","galleryLits","createListItem","images","galleryItems","map","join","onImageClick","event","preventDefault","target","dataset","source","insertAdjacentHTML","addEventListener","onModalOpen","onCloseLightboxByClick","onCloseModal","window","onCloseModalByEsc","onShowNextImage","onShowPreviousImage","nodeName","classList","remove","add","onChangeLightboxImageUrl","contains","src","alt","getIndex","findIndex","elem","setLightboxImageRefAttribute","index","nextImageSrc","nextImageAlt","setAttribute","code","currentImageIndex","length","removeEventListener","onClearlightboxImageRef","currentTarget","removeAttribute"],"mappings":"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","file":"src.b4461c12.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import images from \"./gallery-items.js\";\r\n\r\nconst galleryRef = document.querySelector(\".js-gallery\");\r\nconst lightboxRef = document.querySelector(\".js-lightbox\");\r\nconst lightboxOverlay = document.querySelector(\".lightbox__overlay\");\r\nconst lightboxImageRef = document.querySelector(\".lightbox__image\");\r\nconst lightBoxCloseBtn = document.querySelector(\r\n  '[data-action=\"close-lightbox\"]'\r\n);\r\n\r\nconst galleryLits = createListItem(images);\r\ngalleryRef.insertAdjacentHTML('beforeend', galleryLits);\r\n\r\ngalleryRef.addEventListener(\"click\", onModalOpen);\r\nlightboxOverlay.addEventListener(\"click\", onCloseLightboxByClick);\r\nlightBoxCloseBtn.addEventListener(\"click\", onCloseModal);\r\n\r\n\r\nfunction createListItem (galleryItems) {\r\n  return galleryItems.map(({ preview, original, description }) => {\r\n    return `\r\n    <li class=\"gallery__item\">\r\n      <a class=\"gallery__link\" href=\"${original}\">\r\n        <img class=\"gallery__image\"\r\n          src=\"${preview}\" \r\n          data-source=\"${original}\" \r\n          alt=\"${description}\"/>\r\n      </a>\r\n    </li >\r\n    `\r\n  }).join(\"\");\r\n};\r\n\r\nfunction onImageClick(event) {\r\n  event.preventDefault();\r\n  return event.target.dataset.source;\r\n}\r\n","\r\nexport function onModalOpen(event) {\r\n  event.preventDefault();\r\n  window.addEventListener(\"keydown\", onCloseModalByEsc);\r\n  window.addEventListener(\"keydown\", onShowNextImage);\r\n   window.addEventListener(\"keydown\", onShowPreviousImage);\r\n  if (event.target.nodeName !== \"IMG\") {\r\n    return;\r\n  }\r\n\r\n  const currentActiveImage = document.querySelector(\".is-open\");\r\n  if (currentActiveImage) {\r\n    lightboxRef.classList.remove(\"is-open\");\r\n  }\r\n\r\n  lightboxRef.classList.add(\"is-open\");\r\n  onChangeLightboxImageUrl(event);\r\n}\r\n \r\nexport function onChangeLightboxImageUrl(event) {\r\n  if (lightboxRef.classList.contains(\"is-open\")) {\r\n    lightboxImageRef.src = onImageClick(event);\r\n    lightboxImageRef.alt = event.target.alt;\r\n  }\r\n}","export function getIndex() {\r\n    return images.findIndex(elem => lightboxImageRef.src === elem.original);\r\n}\r\n\r\nexport function setLightboxImageRefAttribute(index) {\r\n  const nextImageSrc = images[index].original;\r\n  const nextImageAlt = images[index].description;\r\n  lightboxImageRef.setAttribute(\"src\", nextImageSrc);\r\n  lightboxImageRef.setAttribute(\"alt\", nextImageAlt);\r\n}\r\n  \r\nexport function onShowNextImage(event) {\r\n  if (!(event.code === \"ArrowRight\")) {\r\n    return;\r\n  }\r\n\r\n  let currentImageIndex = getIndex();\r\n\r\n  currentImageIndex += 1;\r\n   if (currentImageIndex >images.length-1) {\r\n     currentImageIndex = 0;\r\n  }\r\n\r\n  setLightboxImageRefAttribute(currentImageIndex);\r\n\r\n}\r\nexport function onShowPreviousImage(event) {\r\nif (!(event.code === \"ArrowLeft\")) {\r\n    return;\r\n  }\r\n\r\n  let currentImageIndex = getIndex();\r\n\r\n   if (currentImageIndex === 0) {\r\n     currentImageIndex = images.length;\r\n  } \r\n  currentImageIndex -= 1;\r\n\r\n   setLightboxImageRefAttribute(currentImageIndex);\r\n\r\n}\r\n","export function onCloseModal() {\r\n  window.removeEventListener(\"keydown\", onCloseModalByEsc);\r\n  lightboxRef.classList.remove(\"is-open\");\r\n  onClearlightboxImageRef();\r\n}\r\n\r\nexport function onCloseModalByEsc(event) {\r\n  if (event.code === \"Escape\") {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nexport function onCloseLightboxByClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nexport function onClearlightboxImageRef() {\r\n  lightboxImageRef.removeAttribute(\"src\");\r\n  lightboxImageRef.removeAttribute(\"alt\");\r\n}\r\n","import \"./css/style.css\";\r\nimport images from \"./js/gallery-items.js\";\r\nimport { createListItem, onImageClick } from './js/script';\r\nimport { onModalOpen, onChangeLightboxImageUrl } from './js/onOpenModal';\r\nimport { getIndex, setLightboxImageRefAttribute, onShowNextImage, onShowPreviousImage } from './js/onModalGallery';\r\nimport { onCloseModal, onCloseModalByEsc, onCloseLightboxByClick, onClearlightboxImageRef } from './js/onCloseModal';\r\n\r\nconst galleryRef = document.querySelector(\".js-gallery\");\r\nconst lightboxRef = document.querySelector(\".js-lightbox\");\r\nconst lightboxOverlay = document.querySelector(\".lightbox__overlay\");\r\nconst lightboxImageRef = document.querySelector(\".lightbox__image\");\r\nconst lightBoxCloseBtn = document.querySelector(\r\n  '[data-action=\"close-lightbox\"]'\r\n);\r\n\r\nconst galleryLits = createListItem(images);\r\ngalleryRef.insertAdjacentHTML('beforeend', galleryLits);\r\n\r\ngalleryRef.addEventListener(\"click\", onModalOpen);\r\nlightboxOverlay.addEventListener(\"click\", onCloseLightboxByClick);\r\nlightBoxCloseBtn.addEventListener(\"click\", onCloseModal);\r\n\r\n"]}